---
title: Qiskit のローカル設定
description: ローカルマシンで Qiskit を設定します
---

# Qiskit のローカル設定

Qiskitがインストールされ実行されると、デフォルトのQiskit動作を変更するためにいくつかのオプションのステップがあります。

## ユーザー設定ファイル

Qiskit のローカル設定の主な場所は、ユーザー設定ファイルです。 これは、Qiskit のデフォルト設定を変更するために使用できる .ini-format ファイルです。

例

```text
[default]
circuit_drawer = mpl
circuit_mpl_style = default
circuit_mpl_style_path = ~:~/.qiskit
state_drawer = hinton
transpile_optimization_level = 3
parallel = False
num_processes = 15
```

デフォルトでは、このファイルは `~/.qiskit/settings.conf` ですが、パスは QISKIT_SETTINGS環境変数で上書きできます。

## 利用可能なオプション

-   `circuit_drawer`: 回路引き出しのデフォルトバックエンドを変更します。 `latex`、`mpl`、`text`、または`latex_source`に設定できます。 出力kwargが明示的に設定されていない場合、この引き出しバックエンドが使用されます。
-   `circuit_mpl_style`: 回路ドロワーの mpl 出力バックエンドで使用されるデフォルトのスタイルシート。 有効な値は `default` または `bw` です。
-   `circuit_mpl_style_path`: mpl 出力モードを使用する場合、回路ドロワーを持つパスは JSON スタイルシートを探すために使用されます。
-   `state_drawer`: 状態可視化の描画メソッドのデフォルトバックエンドを変更するために使用されます。 有効な値は`repr`、`text`、`latex`、`latex_source`、`qsphere`、`hinton`、または`bloch`です。 出力kwargが明示的に [qiskit.quantum_info.DensityMatrix.draw](../api/qiskit/qiskit.quantum_info.DensityMatrix#densitymatrix)メソッドに設定されていない場合、指定された出力メソッドが使用されます。
-   \`transpile_optimization_level: [qiskit.compiler.transpile](../api/qiskit/compiler#circuult-compiler-compilation-functions) と [qiskit.execute.execute](../api/qiskit/execute#execute-experiming-experiments) のデフォルトの最適化レベルを変更します。 整数0-3を指定します。
-   `parallel`: 並列実行をサポートする操作で Python マルチプロセッシングが有効になっているかどうか。  例えば、複数の [qiskit.circuit.QuantumCircuit](../api/qiskit/qiskit.circuit.QuantumCircuit#quantumcircuit) オブジェクトの移調。 この設定は QISKIT_PARALLEL 環境変数で上書きできます。 ブール値を指定します。
-   `num_processes`: 並列実行が有効になっている場合、並列処理のために起動する並列プロセスの最大数。 この設定は QISKIT_NUM_PROCS 環境変数で上書きできます。 0 より大きい整数を指定します。 

<Admonition type="note">
    * Circuit drawer settings apply to [qiskit.circuit.QuantumCircuit.draw](../api/qiskit/qiskit.circuit.QuantumCircuit) and [qiskit.visualization.circuit_drawer.](../api/qiskit/qiskit.visualization.circuit_drawer#qiskitvisualizationcircuit_drawer)
    * State visualization draw methods are [qiskit.quantum_info.Statevector.draw](../api/qiskit/qiskit.quantum_info.Statevector#statevector) and [qiskit.quantum_info.DensityMatrix.draw.](../api/qiskit/qiskit.quantum_info.Statevector#statevector)
</Admonition>

## 環境変数

Qiskitのデフォルトの動作を変更するには、これらの環境変数を設定してください。

-   QISKIT_PARALLEL: Pythonマルチプロセッシングを有効にし、Qiskitの複数の回路を介したトランスパイルなど、特定の操作を並列化します。 ブール値を指定します。
-   QISKIT_NUM_PROCS: 並列実行が有効になっている場合、並列処理のために起動する並列プロセスの最大数。 0 より大きい整数を指定します。
-   RAYON_NUM_THREADS: Qiskit でマルチスレッド操作を実行するスレッド数。 デフォルトでは、マルチスレッドコードは各論理CPUのスレッドを起動します。 Qiskit が使用するスレッド数を調整するには、これを整数値に設定します。 例えば、RAYON_NUM_THREADS=4 を設定すると、マルチスレッド関数の 4 つのスレッドが起動されます。 
-   QISKIT_FORCE_THREADS: マルチスレッドコードが常に複数のスレッドで実行されるよう指定します。 デフォルトでは、並列プロセスで既に実行されているQiskitのセクションでマルチスレッドコードを実行している場合。 Qiskit は複数のスレッドを起動せず、代わりにその関数をシリアルに実行します。 これは、限られたCPUリソースのオーバーロードを避けるために行われます。 ただし、マルチプロセス・コンテキストであっても複数のスレッドを強制的に使用したい場合は、QISKIT_FORCE_THREADS=TRUE を設定してください。

## 次のステップ

<Admonition type="tip" title="Recommendations">
  - format@@2(../build/) の方法を学びます。
  - format@@0(hello-world)
  - format@@0(https://learning.quantum.ibm.com/tutorial/grovers-algorithm)などのチュートリアルをお試しください。
  - オープンソースの Qiskit SDK に貢献したい場合は、format@@0(https://github.com/Qiskit/qiskit/blob/main/CONTRIBUTING.md) をお読みください。
</Admonition>
