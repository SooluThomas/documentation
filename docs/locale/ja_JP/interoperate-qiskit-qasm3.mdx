---
title: OpenQASM 3 と Qiskit
description: OpenQASM 3とQiskit 間のコード変換
---

# OpenQASM 3 と Qiskit

Qiskitは、量子プログラムのOpenQASM表現とQuantumCircuitクラス間で変換するためのツールを提供しています。 これらのツールはまだ開発の探索段階にあり、QiskitのOpenQASM 3で表現される動的回路機能のサポートとして進化し続けるでしょう。

<Admonition type="note">
この関数はまだ探索段階にあります。  したがって、構文や機能が進化する可能性が高いです。
</Admonition>

## OpenQASM 3 プログラムを Qiskit にインポート

現在、OpenQASM 3 から Qiskit へのインポートには 2 つの高レベル機能が利用できます。 これらの関数はファイル名を取る`load()`で、プログラム自体を文字列とする`loads()`です。 

```python
qiskit.qasm3.load(file_name)
```

```python
qiskit.qasm3.loads(program-string)
```

この関数を使用するには、パッケージ `qiskit_qasm3_import ` をインストールする必要があります。  例:  

```python
pip install qiskit-qasm3-import
```

この例では、OpenQASM 3 を使用して量子プログラムを定義し、`loads()` を使用して直接量子回路に変換します。

```python
import qiskit.qasm3

program = """
    OPENQASM 3.0;
    include "stdgates.inc";

    input float[64] a;
    qubit[3] q;
    bit[2] mid;
    bit[3] out;

    let aliased = q[0:1];

    gate my_gate(a) c, t {
      gphase(a / 2);
      ry(a) c;
      cx c, t;
    }
    gate my_phase(a) c {
      ctrl @ inv @ gphase(a) c;
    }

    my_gate(a * 2) aliased[0], q[{1, 2}][0];
    measure q[0] -> mid[0];
    measure q[1] -> mid[1];

    while (mid == "00") {
      reset q[0];
      reset q[1];
      my_gate(a) q[0], q[1];
      my_phase(a - pi/2) q[1];
      mid[0] = measure q[0];
      mid[1] = measure q[1];
    }

    if (mid[0]) {
      let inner_alias = q[{0, 1}];
      reset inner_alias;
    }

    out = measure q;
"""
circuit = qiskit.qasm3.loads(program)
circuit.draw("mpl")
```

![output](/images/build/interoperate-qiskit-qasm3/qasm3circ.png)

## OpenQASM 3にエクスポート

Qiskitコードは、文字列にエクスポートされる`dumps()`でOpenQASM 3にエクスポートするか、ファイルにエクスポートされる`dump()`でエクスポートすることができます。 

### `dumps()`の例

```python
from qisKit import QuantumCircuit
from qiskit.qasm3 import dump

qc = QuantumCircuit(2)
qc.h(0)
qc.cx(0,1)
qc.measure_all()

dumps(qc)
```

出力:

`'OPENQASM 3;\ninclude "stdgates.inc";\nbit[2] meas;\nqubit[2] q;\nh q[0];\ncx q[0], q[1];\nbarrier q[0], q[1];\nmeas[0] = measure q[0];\nmeas[1] = measure q[1];\n'`

### `dump()`の例

```python
from qiskit import QuantumCircuit
from qiskit.qasm3 import dump

qc = QuantumCircuit(2)
qc.h(0)
qc.cx(0,1)
qc.measure_all()

f = open("my_file.txt", 'w')
dump(qc, f)
f.close()
```

詳細については、API リファレンスの format@@0(/api/qiskit/qasm3#exporting-to-openqasm-3) セクションを参照してください。

## 次のステップ

<Admonition type="tip" title="Recommendations">
    - format@@2(https://learning.quantum.ibm.com/tutorial/explore-gates-and-circuits-with-the-quantum-composer)チュートリアルでOpenQASMコードを生成する方法を学びます。
    - [OpenQASM 3 Qiskit API](/api/qiskit/qasm3) リファレンスをレビューします。
    - format@@0(../verify/) のトピックを参照してください。
    - format@@0(https://openqasm.com/) を確認してください。
</Admonition>
