---
title: AI transpiler passes
description: AIトランスパイラーのパスと使用方法
---

# AI transpiler passes

<unk>
AI搭載トランスパイラーパスは、いくつかのトランスパイラータスクに対して「従来の」qiskitパスのドロップイン代替として機能する実験パスです。 これらは、多くの場合、既存のヒューリスティックアルゴリズムよりも優れた結果を生成します(たとえば、深度が低く、CNOTカウント)。 ブール満足度ソルバーのような最適化アルゴリズムよりもはるかに速いのです AIトランスパイラーはクラウド上で実行され、IBM Quantum Premiumプランのユーザーが利用できます。

<Admonition type="note">
    これは、IBM Quantum Premium Planでのみ利用可能な実験的機能です。
    AI搭載トランスパイラーパスはアルファリリース状態になっており、変更されることがあります。
</Admonition>

現在使用可能なパスは次のとおりです。

**ルーティングパス**

-   `AIRouting`: レイアウト選択と回路ルーティング

以下のパスは、Q1 2024で利用可能になります。

**回路合成パス**

-   `AICliffordSynthesis`: Clifford 回路合成
-   `AILinearFunctionSynthesis`: 線形機能回路合成
-   `AIPermutationSynthesis`: 変異回路合成

クラウドサービスを通過する AI トランスパイラーを使用するには、`qiskit-transpiler-service` パッケージをインストールします (手順 [here](qiskit-transpiler-service#install-transpiler-service) を参照してください)。

## AIルーティングパス

`AIRouting` パスはレイアウトステージとルーティングステージの両方を行います。 以下のように、`PassManager` 内で使用できます。

```python
from qiskit.transpiler import PassManager
from qiskit_transpiler_service.ai.routing import AIRouting
from qiskit.circuit.library import EfficientSU2

ai_passmanager = PassManager([
  AIRouting(target="ibm_sherbrooke", optimization_level=2, layout_mode="optimize")
])

circuit = EfficientSU2(120, entanglement="circular", reps=1).decompose()

transpiled_circuit = ai_passmanager.run(circuit)
```

`target` は`optimization_level` (1, 2) のどのバックエンドをルーティングするかを決定します。 または 3) プロセスに費やす計算の労力を決定します (通常、高ければ高いほど結果は良くなりますが、時間がかかります)。 そして、 `layout_mode` はレイアウトの選択方法を指定します。
`layout_mode` には以下のオプションが含まれています。

-   `keep`: 以前の transpiler が設定したレイアウトを考慮します (または設定されていない場合は簡単なレイアウトを使用します)。 これは通常、回路をデバイスの特定の量子ビット上で実行する必要がある場合にのみ使用されます。 最適化の余地が少ないので、結果が悪くなることがよくあります。
-   `improve`: これは、前のトランスパイラーが設定したレイアウトを開始点として使用します。 レイアウトの最初の推測に適した場合に便利です。 例えば回路は装置の結合マップに従うように作られています `AIRouting`パスと組み合わせた他の特定のレイアウトパスを試してみたい場合にも便利です。
-   `optimize`: これはデフォルトのモードです。 レイアウト推測が適切でない一般的な回路に最適です。 このモードは以前のレイアウト選択を無視します。

<Admonition type="tip" title="Recommendations">
    - format@@2format@@3(https://learning.quantum.ibm.com/tutorial/reduce-transpiled-circuit-depth-with-circuit-cuting)チュートリアルのQiskitパターンでトランスパレーションを使用します。
    - [Qiskit transpiler service API documentation.](https://cloud-transpiler-experimental.quantum-computing.ibm.com/docs)
</Admonition>
