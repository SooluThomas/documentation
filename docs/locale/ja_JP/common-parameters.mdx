---
title: トランスパイルに一般的に使用されるパラメータ
description: 近似度などの一般的に使用されるパラメータ
---

# トランスパイルに一般的に使用されるパラメータ

以下に、`transpile()`メソッドを使用してローカル移調に一般的に使用されるパラメータを示します。

<span id="approx-degree"></span>
## おおよその度

近似度を使用して、結果として生じる回路が所望の(入力)回路にどの程度近くにマッチさせるかを指定できます。  これは、0.0 が最大近似で、1.0 (デフォルト) が近似ではない範囲内の浮動小数点数です。 小さい値は、実行しやすい(つまり、ゲートが少ない)ために、出力精度をトレードします。  デフォルト値は 1.0 です。

2 量子ビット単体合成(全レベルの初期段階および最適化レベル3の最適化段階で使用) この値は出力の腐敗の正確性を示しています つまり、回路のマトリクス表現が離散ゲートに変換されると、どれだけの誤差が生じるかということです。 近似度が低い値(より多くの近似値)の場合、合成からの出力回路は入力行列とより異なります。 しかし、ゲートが少なくなる可能性もあります(任意の2量子ビット操作は、最大3つのCXゲートで完全に分解できるため)。 

近似度が1より小さい場合。 1つまたは2つのCXゲートを持つ回路が合成される可能性があり、ハードウェアからの誤差は少なくなりますが、近似値よりも多くなります。 CXはエラーの点で最も高価なゲートなので、 合成の忠実度を犠牲にしてそれらの数を減らすことは有益かもしれません(この技術はIBMデバイスの量子量を増加させるために使用されました: format@@0(https://arxiv rg/abs/1811.12926) 

例として、初期段階で合成されるランダムな 2 量子ビット `UnitaryGate` を生成します。 1.0未満の`approximation _degree`を設定すると、おおよその回路が生成されます。 また、 `basis_gates` を指定することで、合成方法がおおよその合成に使用できるゲートを知ることができます。

```python
    UU = random_unitary(4, seed=12345)
    rand_U = UnitaryGate(UU)

    qc = QuantumCircuit(2)
    qc.append(rand_U, range(2))
    approx_qc = transpile(qc, approx_degree=0.85, basis_gates=["sx", "rz", "cx"])
    print(approx_qc.count_ops()["cx"])
```

これにより、近似で必要なCXゲートが少なくなるため、`2` の出力が得られます。

<span id="seed"></span>
## Seed transpiler

seed transpiler の引数は、トランスパイラーの確率部分に対してランダムなシードを設定します。 同じ構成で `transpile()` を複数回実行した場合、トランスパイラーの確率的な性質のため、毎回同じ出力を取得することは保証されません。 ですから、移調の実験をしていて、`seed_transpiler` 引数を設定することで、同じ出力を毎回移調する必要がある場合は、このようにできます。

例

```python
    optimized_1 = transpile(qc, backend=backend, seed_transpiler=11, optimization_level=1)
```

<span id="init-layout"></span>
## 初期レイアウト

物理キュービット上の仮想キュービットの初期位置を指定します。 このレイアウトで `coupling_map` 制約と互換性のある回路が使用されます。 トランスパイラーがスワップやその他の手段を通じてqubits を許容する可能性があるため、最終的なレイアウトが同じであることは保証されません。 複数の形式がサポートされています:

````
* Layout instance
* Dict 
  - virtual to physical:
    ```python
    {qr[0]: 0,
    qr[1]: 3,
    qr[2]: 5}
    ```
  - physical to virtual:
    ```python
    {0: qr[0],
    3: qr[1],
     5: qr[2]}
    ```

* List
  - virtual to physical:
    ```python
    [0, 3, 5]  # virtual qubits are ordered (in addition to named)
    ```
  - physical to virtual:
    ```python
    [qr[0], None, None, qr[1], None, qr[2]]
    ```
````

<span id="xx-method"></span>
## *_method

これらのオプションは、トランスパイラーの動作に影響を与え、トランスパイラーからの出力、異なる出力、または特定の出力を試して得るために使用されます。

-   `init_method` (str) - 初期化段階で使用するプラグイン。 

-   `layout_method` (str) - レイアウト選択パス（`trivial`、`dense`、`noise_adaptive`、`sabre`）。 これは、レイアウトステージに使用する外部プラグイン名にもなります。 

-   `optimization_method` (str) - 最適化ステージに使用するプラグイン。 

-   `routing_method` (str) - ルーティングパスの名前（`basic`、`lookahead`、`stochastic`、`sabre`、`none`）。 これは、ルーティングステージに使用する外部プラグイン名にもなります。

-   `scheduling_method` (str) - スケジューリングパスの名前。 これは、スケジューリング段階で使用する外部プラグイン名にもなります。 
    -   `as_soon_as_possible` : qubit リソース上で可能な限り早期に (別名: `asap`) 命令をスケジュールします。
    -   `as_late_as_possible`: 手順を遅延スケジュールします。  つまり、可能な場合は qubit をグランド状態に保ちます(alias: `alap`)。

-   `translation_method` (str) - 翻訳パスの名前（`unroller`、`translator`、`synchois`）。 これは、翻訳段階で使用する外部プラグイン名にもなります。 

-   `unitary_synthesis_method` (str) - 使用する単一合成法の名前。 デフォルトでは `default` が使用されます。 

<Admonition>
  特定のステージにインストールされているすべてのプラグインのリストを表示するには、[`list_stage_plugins("stage_name")`](https://docs.quantum.ibm.com/api/qiskit/transpiler_plugins#plugin-api) を実行します。 たとえば、インストールされているすべてのプラグインの一覧を表示したい場合は、`list_stage_plugins(routing)` を実行します。
</Admonition>

## 次のステップ

<Admonition type="tip" title="Recommendation">
    - format@@2(defaults-and-configuration-options) のトピックを確認します。
    - Learn how to [Set the optimization level.](set-optimization)
    - Try the [Submit transpiled circuits](https://learning.quantum.ibm.com/tutorial/submit-transpiled-circuits) tutorial.
    - format@@0(/api/qiskit/transpiler)

</Admonition>
